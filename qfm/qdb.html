<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Quick Financial Manager Database</title>
</head>
<body>

<h1>QFM database</h1>

<p>see also: <a href="../qdbload.py">qdbload.py</a></p>

<table border="1">
<tbody>
<tr>
<th>Table</th>
<th>Field</th>
<th>Datatype</th>
<th>ref</th>
<th>Description</th>
</tr>
</tbody>

<tbody>
<tr>
<td>Account</td>
<td>id</td>
<td>int</td>
<td></td>
<td>and categories</td>
</tr>
<tr>
<td></td>
<td>name</td>
<td>text</td>
</tr>
<tr>
<td></td>
<td>parent</td>
<td>int</td>
<td>Account</td>
<td></td>
</tr>
<tr>
<td></td>
<td>kind</td>
<td>text</td>
<td></td>
<td>AL=asset/liability (what quicken calls an "account") or<br />
IE = income/expense ("category")</td>
</tr>
</tbody>
<tbody>
<tr>
<td>Job</td>
<td>id</td>
<td>int</td>
<td></td>
<td>aka class</td>
</tr>
<tr>
<td></td>
<td>name</td>
<td>text</td>
<td></td>
<td></td>
</tr>
</tbody>
<tbody>
<tr>
<td>Transaction</td>
<td>id</td>
<td>int</td>
</tr>
<tr>
<td></td>
<td>acct</td>
<td>int</td>
<td>Account</td>
</tr>
<tr>
<td></td>
<td>date</td>
<td>date</td>
</tr>
<tr>
<td></td>
<td>payee</td>
<td>text</td>
</tr>
<tr>
<td></td>
<td>num</td>
<td>text</td>
</tr>
<tr>
<td></td>
<td>ty</td>
<td>text</td>
</tr>
<tr>
<td></td>
<td>s</td>
<td>text</td>
<td></td>
<td>split flag. mostly redundant, but needed for round-trip testing</td>
</tr>
</tbody>

<tbody>
<tr>
<td>Split</td>
<td>id</td>
<td>int</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>trx</td>
<td>int</td>
<td>Transaction</td>
<td></td>
</tr>
<tr>
<td></td>
<td>acct</td>
<td>int</td>
<td>Account</td>
</tr>
<tr>
<td></td>
<td>job</td>
<td>int</td>
<td>Job</td>
</tr>
<tr>
<td></td>
<td>clr</td>
<td>text</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>memo</td>
<td>text</td>
<td></td>
<td>Quicken has a per-transaction memo as well as
a per-split memo, but it doesn't show up in the transaction
report.</td>
</tr>
<tr>
<td></td>
<td>subtot</td>
<td>float</td>
<td></td>
<td><em>hmm... decimal?</em></td>
</tr>
</tbody>
<tbody>
<tr>
<td>Payee</td>
<td>id</td>
<td>int</td>
<td></td>
<td><em>not yet used</em></td>
</tr>
<tr>
<td></td>
<td>name</td>
<td>text</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>Per <a
href="http://www.twistedmatrix.com/documents/current/howto/policy/coding-standard#auto15">twisted
conventions</a>, <q>Database tables will be named with plural nouns</q>.
Hmm... seems to conflict with <a href="http://www.djangoproject.com/documentation/0.96/tutorial02/">django admin</a> defaults.
</p>

<div><h2>ToDo</h2>
<ul>
  <li>round-trip/integrity test: output transactions in trstsv.py format</li>
  <li>text search view, e.g. for report of @@ transactions</li>
  <li>auth... OpenID, I hope</li>
  <li>long-running deployment: behind apache? lighttpd?</li>
</ul>
</div>
<hr />
<address>
<a href="http://www.w3.org/People/Connolly/">Dan Connolly</a>, Oct 2007
</address>
</body>
</html>
